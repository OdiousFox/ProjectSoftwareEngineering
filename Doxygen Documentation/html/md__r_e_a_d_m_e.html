<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WeatherApp: ProjectSoftwareEngineering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="d538f7976546294953deda9d409725bf.gif"/></td>
  <td id="projectalign">
   <div id="projectname">WeatherApp<span id="projectnumber">&#160;v1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ProjectSoftwareEngineering </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md3"></a>
How to run webserver</h1>
<p>The webserver is running using Django framework. Therefore, you need to have python version 3.x to run. Dowload the python interpreter, then you need to create virtual environment in python. Run the following command </p><div class="fragment"><div class="line"> {python=}</div>
<div class="line">python -m venv &quot;your project folder&quot;</div>
</div><!-- fragment --><p> For example on Window system </p><div class="fragment"><div class="line"> {python=}</div>
<div class="line">D:\ACmeasure&gt;python -m venv my_proj</div>
</div><!-- fragment --><p> New folder named "my_proj" will be created in directory "D:\ACmeasure". Go to "my_proj" directory then go to "Script" then activate "activate.bat" file </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line"> </div>
<div class="line">D:\ACmeasure&gt;cd my_proj</div>
<div class="line"> </div>
<div class="line">D:\ACmeasure\my_proj&gt;cd Scripts</div>
<div class="line"> </div>
<div class="line">D:\ACmeasure\my_proj\Scripts&gt;activate.bat</div>
<div class="line"> </div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;</div>
</div><!-- fragment --><p> Dowload the zip file then unzip in current folder </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;dir</div>
<div class="line"> Volume in drive D is New Volume</div>
<div class="line"> Volume Serial Number is 707A-06C4</div>
<div class="line"> </div>
<div class="line"> Directory of D:\ACmeasure\my_proj\Scripts</div>
<div class="line"> </div>
<div class="line">19/12/2022  02:55    &lt;DIR&gt;          .</div>
<div class="line">19/12/2022  02:55    &lt;DIR&gt;          ..</div>
<div class="line">06/12/2022  12:17             2,066 activate</div>
<div class="line">06/12/2022  12:17               995 activate.bat</div>
<div class="line">06/12/2022  12:17            24,175 Activate.ps1</div>
<div class="line">06/12/2022  12:17               393 deactivate.bat</div>
<div class="line">06/12/2022  12:17           107,886 pip.exe</div>
<div class="line">06/12/2022  12:17           107,886 pip3.10.exe</div>
<div class="line">06/12/2022  12:17           107,886 pip3.exe</div>
<div class="line">19/12/2022  02:55    &lt;DIR&gt;          ProjectSoftwareEngineering-minh</div>
<div class="line">19/12/2022  02:55           129,242 ProjectSoftwareEngineering-minh.zip</div>
<div class="line">06/12/2022  12:17           266,624 python.exe</div>
<div class="line">06/12/2022  12:17           254,848 pythonw.exe</div>
<div class="line">06/12/2022  12:34           107,881 sqlformat.exe</div>
<div class="line">              11 File(s)      1,109,882 bytes</div>
<div class="line">               3 Dir(s)  10,327,334,912 bytes free</div>
</div><!-- fragment --><p> Remove the zip file then install all required framework by this command </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts\ProjectSoftwareEngineering-minh&gt;cd ../</div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;python.exe -m pip install -r ProjectSoftwareEngineering-minh/requirements.txt</div>
</div><!-- fragment --><p> The file requirements.txt contains all framework packages for project including Django, pyngrok, paho-mqtt, etc</p>
<p>On Linux or Mac OS, the process is the same just when you activate virtual environment, you need to run "source bin/activate" </p><div class="fragment"><div class="line"> {bash=}</div>
<div class="line">minh@DESKTOP-Q7J9KK5:/mnt/d/ACmeasure$ python3 -m venv my_pro</div>
<div class="line">minh@DESKTOP-Q7J9KK5:/mnt/d/ACmeasure$ cd my_pro</div>
<div class="line">minh@DESKTOP-Q7J9KK5:/mnt/d/ACmeasure/my_pro$</div>
<div class="line">minh@DESKTOP-Q7J9KK5:/mnt/d/ACmeasure/my_pro$ source bin/activate</div>
<div class="line">(my_pro) minh@DESKTOP-Q7J9KK5:/mnt/d/ACmeasure/my_pro$</div>
</div><!-- fragment --><p> after that the process to install and run is same as in the Window.</p>
<p>Now, if you want to run this Django server locally, go to <a class="el" href="settings_8py.html">settings.py</a> file. The location of this file is inside ProjectSofware and <a class="el" href="namespacemy__server.html">my_server</a>. Here is the location of it in my folder </p><div class="fragment"><div class="line"> Directory of D:\ACmeasure\my_proj\Scripts\ProjectSoftwareEngineering-minh\my_server\my_server</div>
<div class="line"> </div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          .</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          ..</div>
<div class="line">19/12/2022  02:44               411 asgi.py</div>
<div class="line">19/12/2022  02:44             3,696 settings.py</div>
<div class="line">19/12/2022  02:44               830 urls.py</div>
<div class="line">19/12/2022  02:44               411 wsgi.py</div>
<div class="line">19/12/2022  02:44                 0 __init__.py</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          __pycache__</div>
</div><!-- fragment --><p> Please change variable "USE_NGROK" to value "False" in <a class="el" href="settings_8py.html">settings.py</a> </p><div class="fragment"><div class="line">USE_NGROK = <span class="keyword">False</span></div>
</div><!-- fragment --><p> This will disable tunnel using ngrok service to access website from outside network The run this command to enable Django server </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;python.exe ProjectSoftwareEngineering-minh/my_server/manage.py runserver</div>
<div class="line">Watching for file changes with StatReloader</div>
<div class="line">Performing system checks...</div>
<div class="line"> </div>
<div class="line">System check identified no issues (0 silenced).</div>
<div class="line">Hello</div>
<div class="line">Connected with result code 0</div>
<div class="line">December 19, 2022 - 03:14:41</div>
<div class="line">Django version 4.1.3, using settings &#39;my_server.settings&#39;</div>
<div class="line">Starting development server at http://127.0.0.1:8000/</div>
<div class="line">Quit the server with CTRL-BREAK.</div>
</div><!-- fragment --><p> To get the webpage, please use browser and type in "http://127.0.0.1:8000/webserver/" and to get API, type int "http://127.0.0.1:8000/webserver/api/"</p>
<p>Now to get access this server from outside world, it is necessary to login NGROK service and get your own personal authorized token. Here is link to the website: <a href="https://ngrok.com/">https://ngrok.com/</a> Here is what your personal authorized toke looked like: <img src="Img/auth_token_ngrok.png" alt="Image about ngrok auth toke" class="inline"/> Copy this token and go to <a class="el" href="apps_8py.html">apps.py</a>. The <a class="el" href="apps_8py.html">apps.py</a> is located in "ProjectSoftwareEngineering-minh\my_server\webserver" </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line"> Directory of D:\ACmeasure\my_proj\Scripts\ProjectSoftwareEngineering-minh\my_server\webserver</div>
<div class="line"> </div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          .</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          ..</div>
<div class="line">19/12/2022  02:44                66 admin.py</div>
<div class="line">19/12/2022  02:44             1,466 apps.py</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          migrations</div>
<div class="line">19/12/2022  02:44             2,475 models.py</div>
<div class="line">19/12/2022  02:44            13,953 mqtt_py.py</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          static</div>
<div class="line">19/12/2022  02:44    &lt;DIR&gt;          template</div>
<div class="line">19/12/2022  02:44                63 tests.py</div>
<div class="line">19/12/2022  02:44               152 urls.py</div>
<div class="line">19/12/2022  02:44             2,182 views.py</div>
<div class="line">19/12/2022  02:44                 0 __init__.py</div>
<div class="line">19/12/2022  03:14    &lt;DIR&gt;          __pycache__</div>
</div><!-- fragment --><p> In <a class="el" href="apps_8py.html">apps.py</a> file please change this </p><div class="fragment"><div class="line">conf.get_default().auth_token = <span class="stringliteral">&quot;2IyDavd0n194FE5AyxZVQxTfexn_5NLsgn9t4AFy8Z3LdwvCo&quot;</span></div>
</div><!-- fragment --><p> to your personal token, then go to previous <a class="el" href="settings_8py.html">settings.py</a> and change variable "USE_NGROK" to value "True" To run Django server use this command </p><div class="fragment"><div class="line"> {cmd=}</div>
<div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;python.exe ProjectSoftwareEngineering-minh/my_server/manage.py runserver --noreload</div>
</div><!-- fragment --><p> The result of this command will be </p><div class="fragment"><div class="line">(my_proj) D:\ACmeasure\my_proj\Scripts&gt;python.exe ProjectSoftwareEngineering-minh/my_server/manage.py runserver --noreload</div>
<div class="line">ngrok tunnel &quot;https://cc7f-2001-1c06-180b-b600-1423-1196-53cc-6f7f.eu.ngrok.io&quot; -&gt; &quot;http://127.0.0.1:8000&quot;</div>
<div class="line">Performing system checks...</div>
<div class="line"> </div>
<div class="line">System check identified no issues (0 silenced).</div>
<div class="line">December 19, 2022 - 03:31:54</div>
<div class="line">Django version 4.1.3, using settings &#39;my_server.settings&#39;</div>
<div class="line">Starting development server at http://127.0.0.1:8000/</div>
<div class="line">Quit the server with CTRL-BREAK.</div>
<div class="line">Hello</div>
<div class="line">Connected with result code 0</div>
</div><!-- fragment --><p> Note that ngrok tunnel will change randomly whenever you start server, so the hyper link will be different Now go to the browser and type "https://cc7f-2001-1c06-180b-b600-1423-1196-53cc-6f7f.eu.ngrok.io/webserver/" get webpage or "https://cc7f-2001-1c06-180b-b600-1423-1196-53cc-6f7f.eu.ngrok.io/webserver/api/" to get API If you want to end the server you need to exit the terminal running server. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
